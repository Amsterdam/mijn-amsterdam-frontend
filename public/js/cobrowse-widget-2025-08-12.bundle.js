!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.CobrowseWidget=n():e.CobrowseWidget=n()}(self,(()=>(()=>{"use strict";var e={56:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},72:e=>{var n=[];function t(e){for(var t=-1,o=0;o<n.length;o++)if(n[o].identifier===e){t=o;break}return t}function o(e,o){for(var i={},r=[],a=0;a<e.length;a++){var d=e[a],c=o.base?d[0]+o.base:d[0],l=i[c]||0,u="".concat(c," ").concat(l);i[c]=l+1;var h=t(u),p={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==h)n[h].references++,n[h].updater(p);else{var b=s(p,o);o.byIndex=a,n.splice(a,0,{identifier:u,updater:b,references:1})}r.push(u)}return r}function s(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,s){var i=o(e=e||[],s=s||{});return function(e){e=e||[];for(var r=0;r<i.length;r++){var a=t(i[r]);n[a].references--}for(var d=o(e,s),c=0;c<i.length;c++){var l=t(i[c]);0===n[l].references&&(n[l].updater(),n.splice(l,1))}i=d}}},113:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",o=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),o&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),o&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,o,s,i){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(o)for(var a=0;a<this.length;a++){var d=this[a][0];null!=d&&(r[d]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);o&&r[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),s&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=s):l[4]="".concat(s)),n.push(l))}},n}},540:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var n={};e.exports=function(e,t){var o=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},694:(e,n,t)=>{t.d(n,{A:()=>a});var o=t(601),s=t.n(o),i=t(314),r=t.n(i)()(s());r.push([e.id,"/* Sharing Banner */\n.sharing-banner:has(> .cobrowse-wrapper) {\n  background-color: white;\n  min-height: 48px;\n  position: fixed;\n  width: 100%;\n  z-index: 99999999998;\n  display: none;\n  top: 0;\n  right: 0;\n}\n\n/* Cobrowe frame */\n#cobrowse-frame {\n  position: fixed;\n  top: 48px;\n  left: 0;\n  width: 100%;\n  height: calc(100vh - 48px);\n  border: 5px solid #004699;\n  z-index: 99999999999;\n  pointer-events: none;\n}\n\n.cobrowse-wrapper {\n  font-family: 'Amsterdam Sans', Arial, sans-serif;\n\n  button {\n    font-family: 'Amsterdam Sans', Arial, sans-serif;\n    padding: 12px 24px;\n    font-size: 24px;\n    background: none;\n    border: none;\n    color: white;\n    cursor: pointer;\n    font-weight: 400;\n  }\n\n  /* Stop Cobrowse Button */\n  &.stop-cobrowse-button {\n    font-size: 18px;\n    padding: 5px 16px;\n    color: white;\n    background-color: #004699;\n    border-color: #004699;\n    position: fixed;\n    z-index: 99999999999;\n    top: 4px;\n    left: 4px;\n    cursor: pointer;\n    line-height: 160%;\n    min-width: 147px;\n  }\n\n  &.stop-cobrowse-button:hover {\n    background-color: #102e62;\n  }\n\n  /* Modal Styles */\n  .modal-background {\n    background: rgba(50, 50, 50, 0.63);\n    position: fixed;\n    z-index: 21474647;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .modal-content {\n    max-height: 100vh;\n    overflow-y: auto;\n\n    color: #333;\n\n    background: white;\n    z-index: 21474847;\n\n    width: 85%;\n    max-width: 720px;\n  }\n\n  .modal-body-container {\n    padding: 36px 56px;\n\n    #codeContainer {\n      display: none;\n    }\n  }\n\n  .modal-heading {\n    font-weight: 800;\n    text-align: left;\n    margin-top: 10px;\n    font-size: 37px;\n    margin-bottom: 20px;\n  }\n\n  .modal-body {\n    font-size: 24px;\n    font-weight: 400;\n    line-height: 40px;\n  }\n\n  /* Button Styles */\n  .blue-button {\n    background-color: #004699;\n    border-color: #004699;\n    margin: 24px 24px 24px 0;\n    font-size: 24px;\n    color: white;\n  }\n\n  .blue-button:hover {\n    background-color: #102e62;\n  }\n\n  .secondary-button {\n    font-size: 24px;\n\n    background-color: white;\n    box-shadow: inset 0 0 0 2px #004699;\n    color: #004699;\n    margin-top: 24px;\n    margin: 24px 24px 24px 0;\n  }\n\n  .secondary-button:hover {\n    color: #102e62;\n    box-shadow: inset 0 0 0 3px #102e62;\n  }\n\n  .tertiary-button {\n    font-size: 24px;\n\n    background-color: white;\n    border: none;\n    color: #004699;\n  }\n\n  .tertiary-button:hover {\n    color: #102e62;\n  }\n\n  #sessionCode {\n    font-size: 24px;\n    font-weight: 600;\n    margin-top: 8px;\n  }\n\n  /*  small screens */\n  @media (max-width: 600px) {\n    .modal-body-container {\n      padding: 36px;\n    }\n\n    button {\n      font-size: 18px;\n    }\n\n    .modal-heading {\n      font-size: 24px;\n    }\n\n    .modal-body,\n    #sessionCode {\n      font-size: 18px;\n      line-height: 160%;\n    }\n\n    .secondary-button,\n    .blue-button {\n      margin: 18px 18px 18px 0;\n      font-size: 18px;\n    }\n\n    .tertiary-button {\n      font-size: 18px;\n    }\n  }\n\n  @media (max-width: 300px) {\n    .modal-content {\n      width: 100%;\n      min-width: 240px;\n    }\n  }\n}",""]);const a=r},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var s=void 0!==t.layer;s&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,s&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),n.styleTagTransform(o,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}}},n={};function t(o){var s=n[o];if(void 0!==s)return s.exports;var i=n[o]={id:o,exports:{}};return e[o](i,i.exports,t),i.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.nc=void 0;var o={};t.r(o),t.d(o,{default:()=>y});var s=t(72),i=t.n(s),r=t(825),a=t.n(r),d=t(659),c=t.n(d),l=t(56),u=t.n(l),h=t(540),p=t.n(h),b=t(113),m=t.n(b),g=t(694),f={};f.styleTagTransform=m(),f.setAttributes=u(),f.insert=c().bind(null,"head"),f.domAPI=a(),f.insertStyleElement=p(),i()(g.A,f),g.A&&g.A.locals&&g.A.locals;const w=JSON.parse('{"en":{"request_share":"Request to share this page","consent_message":"We would like to take a look at this page with you for a short time.","session_ended":"Screen sharing has stopped","help_message":"Call 14 020. Ask our staff member to assist you remotely. Then click ‘Receive your connection code’ on this screen. Share the code shown here with our staff member. They will only be able to see the City of Amsterdam screen and will help you continue safely.","stop_sharing":"Stop screen sharing","help_by_sharing":"Help via screen sharing","session_ended_message":"Did you not mean to stop screen sharing? Press the button to get a new connection code. Give this code to the staff member you are speaking to.","close":"Close","allow":"Allow","reject":"Reject","your_code":"Your connection code is:","generate_code":"Receive connection code"},"nl":{"request_share":"Verzoek om deze pagina te delen","consent_message":"Wij willen tijdelijk met u meekijken op deze pagina.","session_ended":"Het schermdelen is gestopt","session_ended_message":"Wilde u het schermdelen niet stoppen? Druk op de knop voor een nieuwe verbindingscode. Geef deze code aan de medewerker, met wie u belt.","help_by_sharing":"Hulp via schermdelen","help_message":"Bel 14 020 en druk op ‘Ontvang verbindingscode’. Deze code krijgt u te zien op uw scherm en geeft u aan onze medewerker. Hij ziet alleen wat u laat zien en helpt u veilig verder.","stop_sharing":"Stop schermdelen","close":"Sluiten","allow":"Toestaan","reject":"Afwijzen","your_code":"Uw verbindingscode is:","generate_code":"Ontvang uw verbindingscode"}}'),y=new class{constructor(e,n="nl"){this.licenseKey=e,this.language=n,this.translations=w,(localStorage.getItem("_cobrowse_widget_session")??!1)&&this.init(),this.initializeWidget()}async loadCobrowseSDK(){if(window.CobrowseIO)return window.CobrowseIO;try{const e=document.createElement("script");return e.src="https://js.cobrowse.io/CobrowseIO.js",e.async=!0,e.crossOrigin="anonymous",new Promise(((n,t)=>{e.onload=()=>n(window.CobrowseIO),e.onerror=()=>t(new Error("Failed to load Cobrowse SDK")),document.head.appendChild(e)}))}catch(e){console.error("Error loading Cobrowse SDK:",e)}}async init(){const e=await this.loadCobrowseSDK();e.license=this.licenseKey,e.redactedViews=[".cobrowse-redacted"],this.CobrowseIO=e,this.originalTitle=document.title,this.CobrowseIO.currentSession||localStorage.removeItem("_cobrowse_widget_session"),e.client().then((async()=>{this.CobrowseIO.start(),this.setupSessionControls()})),e.confirmSession=async()=>this.showConsentDialog(this.translations[this.language].request_share,this.translations[this.language].consent_message),e.on("session.updated",(e=>{e.isActive?.()&&localStorage.setItem("_cobrowse_widget_session",JSON.stringify({id:e.id?.(),state:e.state?.()}))})),e.on("session.ended",(()=>{localStorage.removeItem("_cobrowse_widget_session"),this.hideModal(this.sessionCodeContainer),this.sessionCodeContainer,this.removeCobrowseFrame(),this.displaySessionCodeModal("",!0)}))}initializeWidget(){document.getElementById("startCobrowseButton")?.addEventListener("click",(()=>{this.startSession()})),document.addEventListener("keydown",(e=>{e.shiftKey&&"Digit6"===e.code&&this.startSession()}))}setupSessionControls(){this.createSharingBanner(),this.CobrowseIO.showSessionControls=this.showSessionControls.bind(this),this.CobrowseIO.hideSessionControls=this.hideSessionControls.bind(this)}createStopButton(){const e=document.createElement("div");return e.className="__cbio_ignored cobrowse-wrapper stop-cobrowse-button cobrowse-button",e.textContent=this.translations[this.language].stop_sharing,e.addEventListener("click",(()=>{this.CobrowseIO.currentSession&&this.endSession()})),e}showSessionControls(){this.createCobrowseFrame(),document.title="🔴 "+this.originalTitle,document.body.style.paddingTop="48px",this.sharingBanner.style.display="block"}createCobrowseFrame(){if(document.getElementById("cobrowse-frame"))return;const e=document.createElement("div");e.id="cobrowse-frame",document.body.appendChild(e)}removeCobrowseFrame(){const e=document.getElementById("cobrowse-frame");e&&e.remove()}hideSessionControls(){this.sharingBanner.style.display="none",document.body.style.paddingTop="0",document.title=this.originalTitle}createSharingBanner(){this.sharingBanner=document.createElement("div"),this.sharingBanner.className="sharing-banner";const e=this.createStopButton();this.sharingBanner.appendChild(e),document.body.insertBefore(this.sharingBanner,document.body.firstChild)}async startSession(){this.sessionCodeContainer||(this.init(),this.displaySessionCodeModal(""))}displaySessionCodeModal(e,n=null){this.sessionCodeContainer=document.createElement("div"),this.sessionCodeContainer.classList.add("cobrowse-wrapper");const t=n?this.translations[this.language].session_ended:this.translations[this.language].help_by_sharing,o=n?this.translations[this.language].session_ended_message:this.translations[this.language].help_message;e=e.slice(0,3)+"-"+e.slice(3),this.sessionCodeContainer.innerHTML=this.sessionCodeContent(t,o,e,n),this.sessionCodeContainer.querySelector("#closeButton").addEventListener("click",(()=>{this.hideModal(this.sessionCodeContainer),this.sessionCodeContainer=null})),this.sessionCodeContainer.querySelector("#generateButton").addEventListener("click",(async()=>{if(document.getElementById("cobrowse-frame"))console.log("There is an active session already.");else{let e=await this.createSessionCode();e=e.slice(0,3)+"-"+e.slice(3),document.getElementById("sessionCode").innerHTML=e,document.getElementById("codeContainer").style.display="block"}})),document.body.appendChild(this.sessionCodeContainer)}async createSessionCode(){return this.CobrowseIO.createSessionCode()}sessionCodeContent(e,n,t,o=null){const s=!0===o?"blue-button":"secondary-button",i=`\n            <button class="${!0===o?"secondary-button":"blue-button"} cobrowse-button" id="generateButton">${this.translations[this.language].generate_code}</button>\n            <div id="codeContainer" style="display:none;">\n                <div class="modal-body">${this.translations[this.language].your_code}</div>\n                <div id="sessionCode">${t}</div>\n            </div>\n            <div>\n                <button id="closeButton" class="${s} cobrowse-button">${this.translations[this.language].close}</button>\n            </div>`;return this.createModal(e,n,i)}showConsentDialog(e,n){this.hideModal(this.sessionCodeContainer),this.sessionCodeContainer=null;const t=document.createElement("div");return t.classList.add("cobrowse-wrapper"),new Promise((o=>{t.innerHTML=this.consentContent(e,n),t.querySelector(".cobrowse-allow").addEventListener("click",(()=>{o(!0),this.hideModal(t)})),t.querySelector(".cobrowse-deny").addEventListener("click",(()=>{o(!1),this.hideModal(t)})),document.body.appendChild(t)}))}consentContent(e,n){const t=`\n            <div>\n                <button class="cobrowse-allow blue-button cobrowse-button">${this.translations[this.language].allow}</button>\n                <button class="cobrowse-deny tertiary-button cobrowse-button" style="padding:10px;">${this.translations[this.language].reject}</button>\n            </div>`;return this.createModal(e,n,t)}createModal(e,n,t){return`\n      <div class="modal-background">\n          <div class="modal-content">\n          <div class="modal-body-container"> \n              <div class="modal-heading"><b>${e}</b></div>\n                  <div class="modal-body">${n}</div>\n                  ${t}\n              </div>\n          </div>\n      </div>`}async endSession(){this.CobrowseIO.currentSession&&await this.CobrowseIO.currentSession.end()}hideModal(e){e?.parentNode&&e.parentNode.removeChild(e)}}("pBVJ3s3-BmWL9g","nl");return o})()));